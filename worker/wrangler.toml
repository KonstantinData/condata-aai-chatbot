# ==========================================================
# Description:
# This configuration file defines the Cloudflare Worker setup
# for the condata AAI Chatbot. It configures:
# - worker name
# - main script entrypoint
# - compatibility settings
# - WebSocket support
# - environment variables (API URLs, but NOT secrets)
# ==========================================================

name = "condata-aai-chatbot"              # Must match your Worker name in Cloudflare
main = "index.js"                         # JavaScript Worker entrypoint
compatibility_date = "2025-11-16"         # Ensures consistent runtime behavior
compatibility_flags = ["nodejs_compat"]   # Enables Node.js features in Workers

workers_dev = true                        # Allows development deployment via `wrangler dev`

# ----------------------
# Environment Variables
# IMPORTANT:
# API keys must NOT be hard-coded here.
# They will be set securely via Cloudflare Dashboard.
# ----------------------
[vars]
OPENAI_API_KEY = "sk-..."   # Leave empty! Will be injected via Cloudflare settings.
OPENAI_API_URL = "wss://api.openai.com/v1/realtime?model=gpt-4o-mini-realtime"
